# -*- coding: utf-8 -*-
"""Student Performance Prediction

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/#fileId=https%3A//storage.googleapis.com/kaggle-colab-exported-notebooks/student-performance-prediction-a822ecf6-c0b4-433c-bab3-82dcac198b95.ipynb%3FX-Goog-Algorithm%3DGOOG4-RSA-SHA256%26X-Goog-Credential%3Dgcp-kaggle-com%2540kaggle-161607.iam.gserviceaccount.com/20240901/auto/storage/goog4_request%26X-Goog-Date%3D20240901T124432Z%26X-Goog-Expires%3D259200%26X-Goog-SignedHeaders%3Dhost%26X-Goog-Signature%3D668c59fa65ebc02f1a5d4bf81013cbdd139f3bb38fd2d9932bdcfe56039bf11bbb7ab672d2e95f99536eaf22d7442889b4b870c969d1934c4d1c42b38c583f34e291898e99409cd5284a3c8ac271348f612f6a08169e3cc64794771de0ced3fb82d4a1f180c7e60d65b78dd944de6b7e31f9a13851a62bab2f4a218a137676636e4520c463a89c0358b6b3bb633c61fe2823956e4e4202ff73bb6d1737d1f2edb54522543c2d842920cebb6b35b4b5136af73bc4f1e2f295cae720d1125cdd1c2ac64ea3ec8a42a7d6acdd4801ba6c39cd3892627719dd3e8d8b41046d9d694c3e3de0a0fc132f3e8bf6cbc36506ffdc9fcb3e785bdb93e321d7af21fda68d1d
"""

import pandas as pd
import matplotlib.pyplot as plt

data = pd.read_csv('/content/student_performance.csv')
data.columns

data.isna().sum()

"""**So there isn't any missing values **

**How does parental support affect and studying hours per day ? **
"""

data['StudyHoursPerWeek'].mean()

data_lower_than_mean = data[data['StudyHoursPerWeek'] < 17.7]
data_lower_than_mean[["ParentalSupport", "StudyHoursPerWeek"]]

"""**We can observe that most students who study fewer hours per week than the average have parental support ranging from low to medium.**"""

data_higher_than_mean = data[data['StudyHoursPerWeek'] > 17.7]
data_higher_than_mean[["ParentalSupport", "StudyHoursPerWeek"]]

studying_hour_high_support = data['StudyHoursPerWeek'][data['ParentalSupport'] == 'High'].mean()
studying_hour_medium_support = data['StudyHoursPerWeek'][data['ParentalSupport'] == 'Medium'].mean()
studying_hour_low_support = data['StudyHoursPerWeek'][data['ParentalSupport'] == 'Low'].mean()

x = ['High', 'Medium', 'Low']
y = [studying_hour_high_support, studying_hour_medium_support, studying_hour_low_support]

plt.bar(x, y, color=["#003737", "#009596", "#A2D9D9"], width=0.5)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Levels of Parental Support')
plt.ylabel('Study Hours Per Week')
plt.show()

"""**We can observe that most students who study more hours per week than the average have parental support ranging from medium to high.**

**How does parental support affect the activiy ?**
"""

data[["ParentalSupport", "ExtracurricularActivities"]]

data['ExtracurricularActivities'][data['ParentalSupport'] == 'High']

"""**We can observe that the students who parental support is high, participate in at least one extra activity .**"""

data['ExtracurricularActivities'][data['ParentalSupport'] == 'Medium']

"""**We can observe that the students who parental support is medium, participate in at least one extra activity, too.**"""

data['ExtracurricularActivities'][data['ParentalSupport'] == 'Low']

"""**We can observe that the most students with low parental support, doesn't participate in any extra activity .**"""

data['ParentalSupport'][data.ExtracurricularActivities == 0]

"""**We can observe that all students who don't participate in any activity have the low parental support .**"""

activities_high_support = data['ExtracurricularActivities'][data['ParentalSupport'] == 'High'].mean()
activities_medium_support = data['ExtracurricularActivities'][data['ParentalSupport'] == 'Medium'].mean()
activities_low_support = data['ExtracurricularActivities'][data['ParentalSupport'] == 'Low'].mean()
x = ['High', 'Medium', 'Low']
y = [activities_high_support, activities_medium_support, activities_low_support]
plt.bar(x, y, color=["#003737", "#009596", "#A2D9D9"], width=0.5)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Levels of Parental Support')
plt.ylabel('Number of Extracurricular Activities')
plt.show()

"""**How does parental support affect final grades?**"""

data["FinalGrade"].mean()

data['ParentalSupport'][data['FinalGrade']<80.2]

"""Here is the number of students who have a lower final grade than the average and a high parental support :"""

high_support_low_grade = len(data[(data['ParentalSupport']=='High') & (data['FinalGrade']<80.2)])

"""Here is the number of students who have a lower final grade than the average and a medium parental support :"""

medium_support_low_grade = len(data[(data['ParentalSupport']=='Medium') & (data['FinalGrade']<80.2)])

"""Here is the number of students who have a lower final grade than the averge and a low parental support :"""

low_support_low_grade = len(data[(data['ParentalSupport']=='Low') & (data['FinalGrade']<80.2)])

"""**We can notice that a higher percentage of students with final grades below average have lower parental support.**"""

high_support_low_grade = len(data[(data['ParentalSupport']=='High') & (data['FinalGrade']<80.2)])
medium_support_low_grade = len(data[(data['ParentalSupport']=='Medium') & (data['FinalGrade']<80.2)])
low_support_low_grade = len(data[(data['ParentalSupport']=='Low') & (data['FinalGrade']<80.2)])

x = ['High', 'Medium', 'Low']
y = [high_support_low_grade, medium_support_low_grade, low_support_low_grade]
plt.bar(x, y, color=["#003737", "#009596", "#A2D9D9"], width=0.5)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Levels of Parental Support')
plt.ylabel('Number of Students with lower average grades')
plt.show()

data['ParentalSupport'][data['FinalGrade']>80.2]

"""Here is the number of the students who have a higher final grade than the average and a high parental support :"""

len(data[(data['ParentalSupport']=='High') & (data['FinalGrade']>80.2)])

"""Here is the number of the students who have a higher final grade than the average and a medium parental support :"""

len(data[(data['ParentalSupport']=='Medium') & (data['FinalGrade']>80.2)])

"""Here is the number of students who have a higher final grade than the average and a low parental support :"""

len(data[(data['ParentalSupport']=='Low') & (data['FinalGrade']>80.2)])

"""**As we can see, parental support is positively correlated with students' final grades .**"""

high_support_high_grade = len(data[(data['ParentalSupport']=='High') & (data['FinalGrade']>80.2)])
medium_support_high_grade = len(data[(data['ParentalSupport']=='Medium') & (data['FinalGrade']>80.2)])
low_support_high_grade = len(data[(data['ParentalSupport']=='Low') & (data['FinalGrade']>80.2)])

x = ['High', 'Medium', 'Low']
y = [high_support_high_grade, medium_support_high_grade, low_support_high_grade]
plt.bar(x, y, color=["#003737", "#009596", "#A2D9D9"], width=0.5)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Levels of Parental Support')
plt.ylabel('Number of Students with higher average grades')
plt.show()

"""**How does parental suppert affect the attendance rate ?**"""

data['AttendanceRate'].mean()

data['ParentalSupport'][data['AttendanceRate']<85.6]

"""Here is the number of students whose attendence rate is lower than the average and have a high parental support :"""

len(data[(data['AttendanceRate']<85.6) & (data['ParentalSupport']=='High')])

"""Here is the number of students whose attendence rate is lower than the average and have a medium  parental support :"""

len(data[(data['AttendanceRate']<85.6) & (data['ParentalSupport']=='Medium')])

"""Here is the number of students whose attendence rate is lower than the average and have a low parental support :"""

len(data[(data['AttendanceRate']<85.7) & (data['ParentalSupport']=='Low')])

"""**We can notice that most students with an attendance rate lower than the average have lower parental support.**"""

low_attendance_high_support = len(data[(data['AttendanceRate']<85.6) & (data['ParentalSupport']=='High')])
low_attendance_medium_support = len(data[(data['AttendanceRate']<85.6) & (data['ParentalSupport']=='Medium')])
low_attendance_low_support = len(data[(data['AttendanceRate']<85.6) & (data['ParentalSupport']=='Low')])

x=['High', 'Medium', 'Low']
y=[low_attendance_high_support, low_attendance_medium_support, low_attendance_low_support]
plt.bar(x, y, color=["#003737", "#009596", "#A2D9D9"], width=0.5)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Levels of Parental Support')
plt.ylabel('Number of Students with lower attendance rate')
plt.show()

data['ParentalSupport'][data['AttendanceRate']>85.6]

"""Here is the number of students with an attendance rate higher than the average and have the higher parental support :"""

len(data[(data['AttendanceRate']>85.6) & (data['ParentalSupport']=='High')])

"""Here is the number of students with an attendance rate higher than the average and have the medium parental support :"""

len(data[(data['AttendanceRate']>85.6) & (data['ParentalSupport']=='Medium')])

"""Here is the number of students with an attendance rate higher than the average and have the low parental support :"""

len(data[(data['AttendanceRate']>85.6) & (data['ParentalSupport'] == 'Low')])

"""**We can observe that all students with an attendance rate higher than the average have medium or high parental support**"""

high_attendance_high_support = len(data[(data['AttendanceRate']>85.6) & (data['ParentalSupport']=='High')])
high_attendance_medium_support = len(data[(data['AttendanceRate']>85.6) & (data['ParentalSupport']=='Medium')])
high_attendance_low_support = len(data[(data['AttendanceRate']>85.6) & (data['ParentalSupport']=='Low')])

x = ['High', 'Medium', 'Low']
y = [high_attendance_high_support, high_attendance_medium_support, high_attendance_low_support]

plt.bar(x, y, color=["#003737", "#009596", "#A2D9D9"], width=0.5)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Levels of Parental Support')
plt.ylabel('Number of Students with higher attendance rate')
plt.show()

"""How does extra activities affected by the gender ?"""

data[["ExtracurricularActivities", "Gender"]]

"""The number of males that participate into the extra activities :"""

data['ExtracurricularActivities'][data['Gender'] == "Male"].sum()

"""The number of females that participate into the extra activities :"""

data['ExtracurricularActivities'][data['Gender'] == "Female"].sum()

number_of_males = data['ExtracurricularActivities'][data['Gender'] == "Male"].sum()
number_of_females = data['ExtracurricularActivities'][data['Gender'] == "Female"].sum()

x = ['males', 'females']
y = [number_of_males, number_of_females]

plt.bar(x, y, color=["#003737", "#009596"], width=0.5)
plt.rcParams["figure.figsize"] = (4, 6)
plt.xlabel('Gender')
plt.ylabel('Number of Extracurricular Activities')
plt.show()

"""**We can notice that the females participate is more than males . **

**How do extra activities affect on the attendance rate ? **
"""

data[["ExtracurricularActivities", "AttendanceRate"]]

data["AttendanceRate"].mean()

"""**The number of activities in which students with attendance rates below average are participating:**"""

data["ExtracurricularActivities"][data["AttendanceRate"]<85.6]

"""The average number of extracurricular activities for students with attendance rates lower than the average:"""

data[data['AttendanceRate']<85.6]['ExtracurricularActivities'].mean()

"""The average number of extracurricular activities for students with attendance rates higher than the average :"""

data[data['AttendanceRate']>85.6]['ExtracurricularActivities'].mean()

"""**We can observe, on the whole that the attendance rate of students with extra activities is higher than the other students . **

What is the attendence rate about the students who participate in one extra activities ?
"""

data[data['ExtracurricularActivities'] == 1]['AttendanceRate'].mean()

"""What is the attendence rate about the students who participate in two extra activities ?

"""

data[data['ExtracurricularActivities'] == 2]['AttendanceRate'].mean()

"""What is the average of the attendence rate about the students who participate in more than two extra activities :

"""

data[data['ExtracurricularActivities'] > 2]['AttendanceRate'].mean()

"""What is the average of the attendence rate about the students who doesn't participate in any extra activities ?"""

data[data['ExtracurricularActivities'] == 0]['AttendanceRate'].mean()

"""**From this, we can conclude that the attendance rate is positively correlated with the number of activities the student is involved in . **"""

zero_activity = data[data['ExtracurricularActivities'] == 0]['AttendanceRate'].mean()
one_activity = data[data['ExtracurricularActivities'] == 1]['AttendanceRate'].mean()
two_activities = data[data['ExtracurricularActivities'] == 2]['AttendanceRate'].mean()
more_than_two_activities = data[data['ExtracurricularActivities'] > 2]['AttendanceRate'].mean()

x = [0, 1, 2, 3]
y=[zero_activity, one_activity, two_activities, more_than_two_activities]

plt.bar(x, y, color=["#072D44", "#064469", "#5790AB", "#9CCDDB"], width=0.7)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Number of Extracurricular Activities')
plt.ylabel('Attendance Rate')
plt.show()

"""What does extra activities affect the final grade ?"""

data[['ExtracurricularActivities', 'FinalGrade']]

"""What is the average of the final grades of the students that participate into one extra activity ?"""

data['FinalGrade'][data['ExtracurricularActivities'] == 1].mean()

"""What is the average of the final grades of the students that participate into two extra activities ?"""

data['FinalGrade'][data['ExtracurricularActivities'] == 2].mean()

"""What is the average of the final grades of the students that participate into more than two activities ?"""

data['FinalGrade'][data['ExtracurricularActivities'] > 2].mean()

"""What is the average of the final grades of the students that aren't participate into any activities :"""

data['FinalGrade'][data['ExtracurricularActivities'] == 0].mean()

"""We can notice that the highest final grades are for  students who participate in more than 2 activities .

and the lowest final grades are for students who don't participate in any activity  .
"""

zero_activity_final_grade = data['FinalGrade'][data['ExtracurricularActivities'] == 0].mean()
one_activity_final_grade = data['FinalGrade'][data['ExtracurricularActivities'] == 1].mean()
two_activity_final_grade = data['FinalGrade'][data['ExtracurricularActivities'] == 2].mean()
more_than_two_activity_final_grade = data['FinalGrade'][data['ExtracurricularActivities'] > 2].mean()

x = ['zero_activity', 'one_activity', 'two_activities', 'more_than_two_activities']
y = [zero_activity_final_grade, one_activity_final_grade, two_activity_final_grade, more_than_two_activity_final_grade]

plt.bar(x, y, color=["#072D44", "#064469", "#5790AB", "#9CCDDB"], width=0.7)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Number of Extracurricular Activities')
plt.ylabel('Final Grade')
plt.show()

"""How do the extra activities affect the study hours per week ?"""

data[['StudyHoursPerWeek', 'ExtracurricularActivities']]

"""What is the average of study hours per week ?"""

data['StudyHoursPerWeek'].mean()

"""What is the average of activities which the students study hours above the average participate in ?"""

data['ExtracurricularActivities'][data['StudyHoursPerWeek']>17.7].mean()

"""What is the average of activities which the students study hours below the average participate in ?"""

data['ExtracurricularActivities'][data['StudyHoursPerWeek']<17.7].mean()

"""From this, we can conclude that the study hours per week are positively correlated with the number of activities the student is involved in ."""

high_hours_with_activity = data['ExtracurricularActivities'][data['StudyHoursPerWeek']>17.7].mean()
low_hours_with_activity = data['ExtracurricularActivities'][data['StudyHoursPerWeek']<17.7].mean()

x = ['above_average', 'below_average']
y = [high_hours_with_activity, low_hours_with_activity]

plt.bar(x, y, color=["#9CCDDB", "#064469"], width=0.5)
plt.rcParams["figure.figsize"] = (6, 6)
plt.xlabel('Study Hours Per Week')
plt.ylabel('Extracurricular Activities')
plt.show()

"""How does the final grade affect the study hours ?"""

data[['FinalGrade', 'StudyHoursPerWeek']]

"""What is the average of the final grades ?"""

data['FinalGrade'].mean()

"""What is the average of the studying hours ?"""

data['StudyHoursPerWeek'].mean()

"""What is the average of the final grades when the studying hours is below the average ?"""

data[data['StudyHoursPerWeek'] < 17.7]['FinalGrade'].mean()

"""What is the average of the final grades when the studying hours is above the average ?"""

data[data['StudyHoursPerWeek']>17.7]['FinalGrade'].mean()

"""How does the final grade affected by the studying hours per week ?

What is the average number of the studying hours for the students who have final grades  < 70 ?
"""

data[data['FinalGrade'] < 70]['StudyHoursPerWeek'].mean()

"""What is the average number of the studying hours for the students who have final grades between 70 and 80 ?"""

data[(data['FinalGrade']>=70) & (data['FinalGrade']<=80)]['StudyHoursPerWeek'].mean()

"""What is the average number of the studying hours for the students who have final grades between 80 and 90 ?"""

data[data['FinalGrade']>80 & (data['FinalGrade']<=90)]['StudyHoursPerWeek'].mean()

"""What is the average number of the studying hours for the students who have final grades between 90 and 100 ?"""

data[data['FinalGrade']>90]['StudyHoursPerWeek'].mean()

"""**Here, it is evident that the number of study hours per week affects the final grades; as the number of study hours increases, the grades tend to improve.**"""

import numpy as np
more_than_90_final_grade = data[data['FinalGrade']>90]['StudyHoursPerWeek'].mean()
from_80_to_90_final_grade = data[(data['FinalGrade']>80) & (data['FinalGrade']<=90)]['StudyHoursPerWeek'].mean()
from_70_to_80_final_grade = data[(data['FinalGrade']>=70) & (data['FinalGrade']<=80)]['StudyHoursPerWeek'].mean()
less_than_70_final_grade = data[data['FinalGrade']<70]['StudyHoursPerWeek'].mean()

x = ['Above 90', 'Between 80&90', 'Between 70&80', 'Below 70']
y= [more_than_90_final_grade, from_80_to_90_final_grade, from_70_to_80_final_grade, less_than_70_final_grade]

plt.bar(x, y, color=["#072D44", "#064469", "#5790AB", "#9CCDDB"], width=0.7)
plt.rcParams["figure.figsize"] = (8, 6)
plt.xlabel('Final Grade')
plt.ylabel('Study Hours Per Week')
plt.show()

"""How do the previous grades affect the final grades ?"""

data[['FinalGrade', 'PreviousGrade']]

data[data['PreviousGrade']<78.1]['FinalGrade'].mean()

data[data['PreviousGrade']>78.1]['FinalGrade'].mean()

"""**We can notice that the previous grades affect on the final grades . **"""

low_previous_grades = data[data['PreviousGrade']<78.1]['FinalGrade'].mean()
high_previous_grades = data[data['PreviousGrade']>78.1]['FinalGrade'].mean()

x = ['Low', 'High']
y = [low_previous_grades, high_previous_grades]

plt.bar(x, y, color=["#5790AB", "#064469"], width=0.4)
plt.rcParams["figure.figsize"] = (6, 6)
plt.xlabel('Previous Grades')
plt.ylabel('Final Grades')
plt.show()

"""How does the attendence rate affect the final grades ?"""

data[['FinalGrade', 'AttendanceRate']]

"""The attendance rate for the students with high final grades than the average :"""

data['AttendanceRate'][data['FinalGrade']>80.2]

"""What is the average number of the attendence rates of the students which gets final grade above the average ?"""

data[data['FinalGrade']>80.2]['AttendanceRate'].mean()

"""The attendance rate for the students with low final grades than the average :"""

data['AttendanceRate'][data['FinalGrade']<80.2]

"""The average number of the attendance rate for the students with low final grades than the average :"""

data[data['FinalGrade']<80.2]['AttendanceRate'].mean()

low_final_grades = data[data['FinalGrade']<80.2]['AttendanceRate'].mean()
high_final_grades = data[data['FinalGrade']>80.2]['AttendanceRate'].mean()

x = ['Low', 'High']
y = [low_final_grades, high_final_grades]

plt.bar(x, y, color=["#5790AB", "#064469"], width=0.4)
plt.rcParams["figure.figsize"] = (6, 6)
plt.xlabel('Final Grades')
plt.ylabel('Attendance Rate')
plt.show()

"""**Here we can notice that the attendance rate affect on the final grades . **

Is the gender affect on the attendence rate ?

The average of the attendence rate of males :
"""

data[data['Gender']=='Male']['AttendanceRate'].mean()

"""The average of the attendence rate of females :"""

data[data['Gender']=='Female']['AttendanceRate'].mean()

"""**We can notice that the attendance rate for females is higher than males . **"""

males_attendance = data[data['Gender']=='Male']['AttendanceRate'].mean()
females_attendance = data[data['Gender']=='Female']['AttendanceRate'].mean()

x = ['Males', 'Females']
y = [males_attendance, females_attendance]

plt.bar(x, y, color=["#072D44", "#5790AB"], width=0.4)
plt.rcParams["figure.figsize"] = (6, 6)
plt.xlabel('Gender')
plt.ylabel('Attendance Rate')
plt.show()

"""How does the gender affect on the study hours ?

The average of the study hours per week of males :
"""

data[data['Gender']=='Male']['StudyHoursPerWeek'].mean()

"""The average of the study hours per week of females :"""

data[data['Gender']=='Female']['StudyHoursPerWeek'].mean()

"""**Here we can notice that the studying hours per week for females is higher than males . **"""

males_studgying_hours = data[data['Gender']=='Male']['StudyHoursPerWeek'].mean()
females_studying_hours = data[data['Gender']=='Female']['StudyHoursPerWeek'].mean()

x = ['Males', 'Females']
y = [males_studgying_hours, females_studying_hours]

plt.bar(x, y, color=["#072D44", "#5790AB"], width=0.4)
plt.rcParams["figure.figsize"] = (6, 6)
plt.xlabel('Gender')
plt.ylabel('Study Hours Per Week')
plt.show()